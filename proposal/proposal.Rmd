---
title: "Project proposal"
author: "Mr. Palmer's Penguins"
output: github_document
---

```{r load-packages-and-data, message = FALSE, warning = FALSE}
library(tidyverse)

# load data from tidytuesday site and write to csv in data folder
readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-07-27/olympics.csv') %>%
  write_csv(file = paste0(here::here(), "/data/olympics_data.csv"))

# read data from csv
olympics <- read_csv(file = paste0(here::here(), "/data/olympics_data.csv"))
```


## Sarab

## Drew


This dataset was accessed on Kaggle.com and includes data scraped in May 2018 from Sports Reference/OlympStats, sports statistics sites, by Randi Griffin, a Senior Data Scientist at Boston Consulting Group. 

The set, which includes 15 variables and 271,116 observations, provides insight into the athletes that competed in and results of the Olympic games from Athens 1896 to Rio 2016. Each observation includes information about an athlete on a per event basis. Therefore, if an athlete competes in multiple different athletic events, there will be multiple observations with each reflecting an individual event. Each observation details medal results, the athlete's background (age, sex, height, weight, team, etc.), and context about the event (where and when it was held, season, etc.).

The full list of variables are included here and described below:

```{r}
glimpse(olympics)
```

`ID` - This is a number assigned uniquely to each athlete.
A unique number associated with each athlete

`Name` - The name of the athlete competing.

`Sex` - Indicated whether the athlete is Male (M) or Female (F)

`Age` - The age of the athlete in years.

`Height` - The height of the athlete in centimeters.

`Weight` - The weight of the athlete in kilograms.

`Team` - The team (country in most cases) the athlete represents.

`NOC` - The 3-letter National Olympic Committee associated wit each team (country in most cases)

`Games` - The year (1896-2016) and season (Summer or Winter) in which the event took place. This is a character combination of `Year` and `Season`. It is important to note that the Summer and Winter games currently alternate every two years, but used to take place in the same year.

`Year` - The year (1896-2016) in which the event took place. 
`Season` - The season (Summer or Winter) in which the event took place.

`City` - The city in which the Olympic games for that year/season were hosted.

`Sport` - The sport the athlete is competing in.

`Event` - The event the athlete is competing in.

`Medal` - Indicates whether a Gold, Silver, or Bronze medal was one. Responses can also take the form NA if no medal was won or there is incomplete information.

We chose this dataset


The reason why you chose this dataset.

We chose this dataset because we think it can provide a lot of good insights into some of the trends at the Olympics over the past century as well as provide strong opportunities for our group to develop our visualization capabilities. 

The Olympics have always been a special global event. Countries from around the world come together to compete in a range of events. This share commitment to uniting the global community has time and time allowed ath
Ahtletes =  what makes them successful
Country information
Historical information about events
Outcomes

Diversity of information (categorical and numeric =  good for analysis, opportunities to recode some of the existing variables

* Just finished the olympics
* Bringing together the global community, often reflective of broader social, cultural, and economic happenings in our world
* 

The two questions you want to answer.

A plan for answering each of the questions including the variables involved, variables to be created (if any), external data to be merged in (if any).

## Dataset

A brief description of your dataset including its provenance, dimensions, etc. as well as the reason why you chose this dataset.

Make sure to load the data and use inline code for some of this information.

## Questions

The two questions you want to answer.

1.

## Analysis plan

A plan for answering each of the questions including the variables involved, variables to be created (if any), external data to be merged in (if any).

has the success of countries in certain sports changed over the years?

### For Question 2

The original variables we will use to answer this question are **noc**, **medal**, **sport** (perhaps **event** if some higher granularity proves informative rather than overwhelming), and **year** and **season**. Both **year** and **season** are important for placing each Olympics in time and will require some cleaning in conversion to an accurate variable **date**. Many of us are familiar with even recent anomalies in Olympic labeling (such as these recent 2020 Summer Olympics, which took place in 2021).

Next, we will mutate **medal** from a categorical variable with 'Gold', 'Silver', 'Bronze', and NA as outcomes to either a numeric indicator (medal = 1 for any win and medal = 0 for no medal received) or a score that rewards the most points for Gold, then Silver, then Bronze. Through iterative visualization we will determine whether examining success only based on medal count or differentiating gold, silver, and bronze victories allows for a more meaningful display of trends. We will also later group the observations by region of National Olympic Committee, or **noc**, which reflects what we understand to be country identities today than **team** does. Merging in this [secondary dataset](https://www.kaggle.com/heesoo37/120-years-of-olympic-history-athletes-and-results?select=noc_regions.csv) provided with the athlete-event level data by Kaggle will allow us to expand our country labeling from three-letter NOC abbreviations to complete country names. Additionally, the dataframe in the package [countrycode](https://vincentarelbundock.github.io/countrycode/) links countries by their names in various formats to their unicode flag emojis. Merging this data in will assist us with our visualizations of this question.

After the above merging and necessary cleaning, we will group the data by **country**, **sport**, and **date** to compute a new variable called **medals_total**. These steps should allow us to begin an initial approach to visualization, for example, by plotting **medals_total** on the y-axis and **date** on the x-axis with lines grouped by **country** and faceting by **sport**.
